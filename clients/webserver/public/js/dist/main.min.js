"use strict";(function(){angular.module('GHome',['ngRoute']).config(function(a,b){a.when('/home',{templateUrl:'partials/home.html'}).when('/weather',{templateUrl:'partials/weather.html'}).when('/surveillance',{templateUrl:'partials/surveillance.html'}).when('/temperature',{templateUrl:'partials/temperature.html'}).when('/brightness',{templateUrl:'partials/brightness.html'}).when('/camera',{templateUrl:'partials/camera.html'}).when('/power',{templateUrl:'partials/power.html'}).when('/music',{templateUrl:'partials/music.html'}).when('/module-config',{templateUrl:'partials/module-config.html'}).when('/ai-config',{templateUrl:'partials/ai-config.html'}).otherwise({redirectTo:'/home'});});})();;function GraphCtrl(a,b){a.data=[];var c=500;b(function d(){console.log(a.data.length);a.data.push([a.data.length,a.data.length*a.data.length]);b(d,c);},c);};function HouseMapCtrl(a,b){a.minX=0;a.minY=0;a.maxX=0;a.maxY=0;b.getRooms().then(function(b){a.rooms=b;});a.polygonPoints=function(b){var c='';angular.forEach(b,function(d,e){if(d.x<a.minX)a.minX=d.x;else if(d.x>a.maxX)a.maxX=d.x;if(d.y<a.minY)a.minY=d.y;else if(d.y>a.maxY)a.maxY=d.y;c+=d.x+','+d.y;if(e<b.length-1)c+=' ';});return c;};};angular.module('GHome').directive('graph',function(){return{restrict:'EA',link:function(a,b,c){var d=null,e={};a.$watch(c.graphModel,function(a){console.log('data changed',a);if(!d){d=$.plot(b,[a],e);b.css('display','block');}else{d.setData([a]);d.setupGrid();d.draw();}},true);}};});;angular.module('GHome').factory('HouseMapService',function(a,b){var c={};c.getRooms=function(){var c=a.defer();b(function(){c.resolve([{"name":"Salle Ã  manger","presence":"pres_mod_1","temperature":"temp_mod_1","brightness":"bright_mod_1","polygon":[{"x":10,"y":15},{"x":60,"y":15},{"x":60,"y":85},{"x":10,"y":85}]},{"name":"Cuisine","presence":"pres_mod_2","temperature":"temp_mod_2","brightness":"bright_mod_2","polygon":[{"x":10,"y":115},{"x":200,"y":115},{"x":200,"y":160},{"x":10,"y":160}]}]);},100);return c.promise;};return c;});